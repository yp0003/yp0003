<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
	<package name="sys" namespace="/" extends="yfann-default">
		<!-- 系统 -->
		<action name="system!*" method="{1}"
			class="com.yfann.web.action.SystemAction">
			<!-- 跳转到主页 -->
			<result name="forwardIndex">
				/WEB-INF/pages/index.jsp
			</result>
			<!-- 修改密码 -->
			<result name="updatePasswordUI">/WEB-INF/pages/updatePassword.jsp</result>
			<result name="updatePasswordSuccess">/WEB-INF/pages/login.jsp</result>
			<!-- 修改个人信息 -->
			<result name="updateInfoUI">/WEB-INF/pages/updateInfo.jsp</result>
			<result name="updateInfo">/index.jsp</result>
		</action>
	</package>



	<package name="buy" namespace="/" extends="yfann-default">
		<!-- 订单 -->
		<action name="order!*" method="{1}"
			class="com.yfann.web.action.OrderAction">
			<!-- 添加到购物车 -->
			<result name="buyCarList">/WEB-INF/pages/buyCarList.jsp</result>
			<!-- 下载购物车显示缩略图 -->
			<result name="viewSmallProductPic" type="stream">
				<param name="contentType">image/png,image/gif,image/jpg,image/jpeg,image/bmp</param>
				<param name="inputName">byteArrayInputStream</param>
			</result>
			<!-- 清空购物车 -->
			<result name="emptyBuyCar" type="redirectAction">product!productList.html
			</result>

			<!-- 购物车加1 -->
			<result name="addOneInBuyCar" type="stream">
				<param name="contentType">text/html</param>
				<param name="inputName">jsonInputStream</param>
			</result>
			<!-- 购物车加-1 -->
			<result name="subOneInBuyCar" type="stream">
				<param name="contentType">text/html</param>
				<param name="inputName">jsonInputStream</param>
			</result>
			<!-- 跳转到确认订单页面 -->
			<result name="forwardSureOrder">/WEB-INF/pages/sureOrder.jsp</result>
		</action>

		<!-- 课程 -->
		<action name="product!*" method="{1}"
			class="com.yfann.web.action.ProductAction">
			<!-- 跳转到课程列表 -->
			<result name="forwardProductList">/WEB-INF/pages/productList.jsp</result>
			<!-- 下载缩略图 -->
			<result name="showProductSmallImg" type="stream">
				<param name="contentType">image/png,image/gif,image/jpg,image/jpeg,image/bmp</param>
				<param name="inputName">byteArrayInputStream</param>
			</result>
			<!-- 课程详情 -->
			<result name="forwardProductDetail">/WEB-INF/pages/productDetails.jsp</result>
		</action>
	</package>




	<package name="oa" namespace="/" extends="yfann-default">
		<!-- OA -->
		<action name="employee!*" method="{1}"
			class="com.yfann.web.action.EmployeeAction">
			<!-- 转向登录页面 -->
			<result name="forwardLogin">/WEB-INF/pages/oa/login_oa.jsp</result>
			<result name="loginSuccess">/WEB-INF/pages/oa/mypage_oa.jsp</result>
			<!-- 转向注册页面 -->
			<result name="forwardRegister">/WEB-INF/pages/oa/register_oa.jsp</result>
			<!-- 跳转到主页 -->
			<result name="forwardIndex">/index.jsp</result>
			<!-- 修改密码 -->
			<result name="updatePasswordUI">/WEB-INF/pages/oa/updatePassword_oa.jsp</result>
			<result name="updatePasswordSuccess">/WEB-INF/pages/oa/login_oa.jsp</result>
			<!-- 修改个人信息 -->
			<result name="updateInfoUI">/WEB-INF/pages/oa/updateInfo_oa.jsp</result>
			<result name="updateInfo">/index.jsp</result>
		</action>
	</package>
</struts>
